# 進捗記録

## 2026-01-04
1. プロジェクト初期化とDocker環境構築 (v0.1.0)
   - Vite + React + TypeScript + Tailwind プロジェクト作成
   - Docker環境構築 (node:24-slim, port:5175)
   - 依存パッケージのインストールと競合解決 (date-fns)
2. データベース & バックエンド設定
   - Supabaseスキーマ定義 (profiles, deadlines, submissions)
   - クライアント接続設定とTypeScript型定義作成
3. UI基礎 & レイアウト実装
   - shadcn/uiコンポーネント(Button, Sheet, DropdownMenu等)導入
   - テーマ切替(Dark/Light)機能
   - レスポンシブサイドバーレイアウト (AppLayout)
4. 認証機能 (Google OAuth) 実装
   - AuthContext による認証状態管理
   - Google認証 (signInWithOAuth) の実装
   - ログイン画面 (LoginPage) とルート保護 (RequireAuth) 実装
   - ログアウト機能実装

5. カレンダー & 期限管理機能 (Phase 5) 実装 (v0.2.0)
   - FullCalendar によるワークアウトカレンダーの統合
   - 管理者用期限管理画面 (Deadline Management) の作成
   - プロフィール情報 (Profiles) の取得とロールベースのアクセス制御
   - 特定メールアドレス (estacercadeaqui@gmail.com) への管理者権限付与ロジックの実装
   - Docker環境での依存関係競合解決とビルド安定化
6. 動画アップロード機能 (Phase 6) 実装 (v0.3.0)
   - Cloudflare R2 バケット作成とAPIトークン設定
   - VideoUploaderコンポーネント実装（ファイル選択、バリデーション、進捗表示）
   - サムネイル自動生成機能（Canvas API）
   - Supabase submissions テーブルへのメタデータ保存
   - 初回ログイン時のプロファイル自動作成機能
7. 管理者ダッシュボード (Phase 7) 実装 (v0.4.0)
   - 全ユーザーの提出一覧表示 (SubmissionsPage)
   - サムネイルプレビュー付きカード表示
   - 動画プレイヤー (1x - 3x 再生速度コントロール)
   - デスクトップ・モバイル両対応のサイドバー更新
8. カレンダー連携とアップロード改善 (Phase 8-1) 実装 (v0.5.0)
   - カレンダーの日付クリックからのアップロード連携
   - 提出データへの対象日付 (target_date) カラムの追加
   - アップロード完了後のカレンダー自動更新機能
9. PWA化対応 (Phase 8-2) 実装 (v0.6.0)
   - vite-plugin-pwaの導入とマニフェスト設定
   - ユーザー提供アイコンの配置とアセット設定
   - モバイル向けメタタグの最適化
10. Vercelデプロイと本番環境確認 (Phase 9) 完了 (v0.6.0)
   - Vercelへのデプロイ成功と環境変数の設定
   - Supabaseの認証リダイレクトURLの更新
   - Android実機(PWA)でのログイン・動作確認成功
11. メンテナンス用Edge Function (Phase 10) スケルトン作成 (v0.6.0)
   - 120日（約4ヶ月）経過した動画をR2から自動削除するロジックの実装
   - データの整合性を保ちつつストレージを節約する構成

## 2026-01-05
1. カレンダー表示不具合の解消と独自実装への移行 (v0.7.0)
   - Docker/PWA環境におけるFullCalendarのCSS表示問題を特定
   - FullCalendarを廃止し、shadcn/ui (react-day-picker) ベースの独自カレンダーを実装
   - 日付ごとの枠線（グリッド）表示、ステータスインジケーター（3色ドット）の実装
   - 未アップロード日に対するクイック追加ボタン（＋）の実装
   - 不要な依存関係（@fullcalendar/*）の削除とコードのクリーンアップ
