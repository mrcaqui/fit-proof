Walkthroughを日本語で作成し、さらに`docs\進捗.md`にも追記して下さい。進捗.mdは既存のフォーマットに沿って追記して下さい。既に本日の項目がある場合は連番を付与して一番後ろに追記して下さい。また、わかりやすいコミットメッセージを考え、そのまま貼り付けられる形でgit commitコマンドを提案して。さらに、package.jsonのversionにてアプリのバージョンを管理していますので、アプリの実装や変化の大きさを判断してバージョンを上げて下さい。

Gemini: https://aistudio.google.com/prompts/1Ftk_E6kaLfEYqJti6uvE9CMFTZuXS4X9

Vite+Vercel+Supabase+Cloudflare R2でパーソナルトレーナー用・運動動画記録プログレッシブWebアプリ（PWA）を作成しています。

以下アプリの開発を考えています。最終的にVercelの環境にDeployして本番環境として公開しますが、まずはローカル開発環境としてWindowsでのコンテナ環境による環境を構築して下さい。実装は段階的に行い、都度私が動作確認します。実装計画を提示して。

**タイトル：**
パーソナルトレーナー用・運動動画記録プログレッシブWebアプリ（PWA）の実装

**1. 技術スタック：**
- **Frontend:** Vite + React + TypeScript + Tailwind CSS + shadcn/ui
- **Backend/Auth:** Supabase
- **Storage:** Cloudflare R2 (S3互換SDK使用)
- **UI Components:** FullCalendar (日・週・月表示), Lucide React (アイコン)
- **PWA:** vite-plugin-pwa

**2. データベース構成 (Supabase):**
- `profiles`: user_id, display_name, role (admin/client), streak_count (int)
- `deadlines`: id, title, target_time (time), frequency (daily/weekly/monthly)
- `submissions`: id, user_id, type (video/comment), r2_key (video), thumbnail_url, duration (int), comment_text, status (success/fail/excused), created_at

**3. クライアント側（ユーザー）主要機能：**
- **カレンダー表示:** FullCalendarを使用。管理者の期限を表示し、自分の投稿状況（成功：緑、失敗：赤、コメント済：黄）を色分け表示。
- **動画投稿システム:** 
    - 30秒未満の動画は警告を出して中断するバリデーション。
    - **プログレスバー:** R2へのアップロード進捗をリアルタイム表示。
    - **サムネイル生成:** 動画アップロード時にブラウザのCanvasを使用して最初のフレームを画像化（Base64またはBlob）し、Supabase StorageまたはR2に保存。
    - **代替コメント:** 動画が撮れない場合、理由をコメント投稿できる機能。
- **ゲーミフィケーション:** 連続達成日数（Streak）をプロフィールに大きく表示。

**4. 管理者側主要機能：**
- **一括管理ダッシュボード:** 全ユーザーの投稿をリスト・カレンダー形式で確認。
- **高速検収プレイヤー:** 動画再生時に **1.0x / 1.5x / 2.0x / 3.0x** の速度切り替えボタンを設置（Androidスマホで操作しやすい大きなボタン）。
- **期限設定UI:** 日次・週次・月次などの期限をユーザーごとに設定・編集するフォーム。

**5. インフラ・最適化ロジック：**
- **PWA化:** `vite-plugin-pwa` を設定し、ホーム画面に追加可能にする。オフラインキャッシュ設定を含む。
- **Cloudflare R2連携:** `@aws-sdk/client-s3` を使用。動画表示にはセキュリティのため「署名付きURL（Presigned URL）」を発行する。
- **自動クリーンアップ:** ストレージ容量節約のため、「投稿から7日以上経過した動画ファイルをR2から削除し、DBのレコードのみ残す」ためのロジック（Edge Functions用スケルトン）を作成。

**6. デザイン指針：**
- スポーティーで清潔感のあるダーク/ライトモード対応デザイン。
- モバイルファーストで、トレーニング直後でも操作しやすい大きなUI要素。

